{"name": "test_list_namespaces", "status": "failed", "statusDetails": {"message": "AssertionError: assert 4 == 3\n +  where 4 = len({'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]})\n +    where {'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]} = <Response status_code=200, \"application/json\">.data", "trace": "self = <knowledge.tests.test_namespace.TestNamespaceAPI object at 0x108801370>\n\n    def test_list_namespaces(self):\n        \"\"\"测试获取知识库列表API\"\"\"\n        with allure.step(\"创建测试数据\"):\n            # 用户1创建的知识库\n            namespace1 = Namespace.objects.create(\n                name='用户1的知识库',\n                creator=self.user1\n            )\n    \n            # 用户2创建的私有知识库\n            Namespace.objects.create(\n                name='用户2的私有知识库',\n                creator=self.user2,\n                access_type='collaborators'\n            )\n    \n            # 用户2创建的公开知识库\n            Namespace.objects.create(\n                name='用户2的公开知识库',\n                creator=self.user2,\n                access_type='public'\n            )\n    \n            # 用户1被邀请协作的知识库\n            namespace4 = Namespace.objects.create(\n                name='协作知识库',\n                creator=self.user2\n            )\n            NamespaceCollaborator.objects.create(\n                namespace=namespace4,\n                user=self.user1,\n                added_by=self.user2\n            )\n    \n        with allure.step(\"用户1登录并获取知识库列表\"):\n            self.client.force_authenticate(user=self.user1)\n            response = self.client.get('/knowledge/namespaces/')\n    \n        with allure.step(\"验证响应\"):\n            assert response.status_code == status.HTTP_200_OK\n>           assert len(response.data) == 3  # 自己的 + 公开的 + 协作的\nE           assert 4 == 3\nE            +  where 4 = len({'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]})\nE            +    where {'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]} = <Response status_code=200, \"application/json\">.data\n\nknowledge/tests/test_namespace.py:182: AssertionError"}, "description": "测试获取知识库列表API", "steps": [{"name": "创建测试数据", "status": "passed", "start": 1753604757604, "stop": 1753604757881}, {"name": "用户1登录并获取知识库列表", "status": "passed", "start": 1753604757881, "stop": 1753604758830}, {"name": "验证响应", "status": "failed", "statusDetails": {"message": "AssertionError: assert 4 == 3\n +  where 4 = len({'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]})\n +    where {'count': 3, 'next': None, 'previous': None, 'results': [{'id': 8, 'name': '协作知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1ab4681a', 'is_active': True, 'created_at': '2025-07-27T08:25:57.764913Z', 'updated_at': '2025-07-27T08:25:57.764927Z', 'collaborator_count': 1, 'is_public': False, 'can_access': True, 'can_edit': True}, {'id': 7, 'name': '用户2的公开知识库', 'description': None, 'cover': None, 'access_type': 'public', 'creator': {'id': 11, 'username': 'user2', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': '1be4ef6f', 'is_active': True, 'created_at': '2025-07-27T08:25:57.708912Z', 'updated_at': '2025-07-27T08:25:57.708924Z', 'collaborator_count': 0, 'is_public': True, 'can_access': True, 'can_edit': False}, {'id': 5, 'name': '用户1的知识库', 'description': None, 'cover': None, 'access_type': 'collaborators', 'creator': {'id': 10, 'username': 'user1', 'first_name': '', 'last_name': '', 'avatar': None}, 'slug': 'f8e9f3a6', 'is_active': True, 'created_at': '2025-07-27T08:25:57.604015Z', 'updated_at': '2025-07-27T08:25:57.604025Z', 'collaborator_count': 0, 'is_public': False, 'can_access': True, 'can_edit': True}]} = <Response status_code=200, \"application/json\">.data\n", "trace": "  File \"/Users/zongjunyi/PycharmProjects/ai-native-platform/api/backend_management/knowledge/tests/test_namespace.py\", line 182, in test_list_namespaces\n    assert len(response.data) == 3  # 自己的 + 公开的 + 协作的\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}, "start": 1753604758830, "stop": 1753604758830}], "start": 1753604757604, "stop": 1753604758832, "uuid": "c4880ffe-6bb5-4d9c-b42e-0bbb34be25f3", "historyId": "bf9f82e72610296b46228091eb37ddfa", "testCaseId": "bf9f82e72610296b46228091eb37ddfa", "fullName": "knowledge.tests.test_namespace.TestNamespaceAPI#test_list_namespaces", "labels": [{"name": "feature", "value": "知识库管理"}, {"name": "story", "value": "知识库API测试"}, {"name": "tag", "value": "django_db"}, {"name": "parentSuite", "value": "knowledge.tests"}, {"name": "suite", "value": "test_namespace"}, {"name": "subSuite", "value": "TestNamespaceAPI"}, {"name": "host", "value": "zongjunyi.local"}, {"name": "thread", "value": "78074-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "knowledge.tests.test_namespace"}]}