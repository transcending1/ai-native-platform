{"name": "test_list_knowledge_base", "status": "failed", "statusDetails": {"message": "AssertionError: assert 4 == 2\n +  where 4 = len({'count': 2, 'next': None, 'previous': None, 'results': [{'kbId': 4, 'name': '知识库2', 'updated_time': '2025-07-20T10:04:34.708489Z', 'document_count': 0}, {'kbId': 3, 'name': '知识库1', 'updated_time': '2025-07-20T10:04:34.634124Z', 'document_count': 2}]})", "trace": "@allure.feature('知识库管理')\n    @allure.story('查询知识库列表')\n    @pytest.mark.django_db\n    def test_list_knowledge_base():\n        \"\"\"测试查询知识库列表\"\"\"\n        client = APIClient()\n        url = reverse('knowledgebase-list')\n    \n        with allure.step(\"创建测试数据\"):\n            kb1 = KnowledgeBase.objects.create(name='知识库1', desc='描述1')\n            kb2 = KnowledgeBase.objects.create(name='知识库2', desc='描述2')\n            # 为知识库1添加文档以测试文档数量\n            Document.objects.create(knowledge_base=kb1, title='文档1', content='内容1')\n            Document.objects.create(knowledge_base=kb1, title='文档2', content='内容2')\n    \n        with allure.step(\"获取知识库列表\"):\n            response = client.get(url)\n    \n        with allure.step(\"验证响应结果\"):\n            assert response.status_code == status.HTTP_200_OK\n            assert response.data['success'] is True\n            assert response.data['message'] == '获取知识库列表成功'\n>           assert len(response.data['data']) == 2\nE           AssertionError: assert 4 == 2\nE            +  where 4 = len({'count': 2, 'next': None, 'previous': None, 'results': [{'kbId': 4, 'name': '知识库2', 'updated_time': '2025-07-20T10:04:34.708489Z', 'document_count': 0}, {'kbId': 3, 'name': '知识库1', 'updated_time': '2025-07-20T10:04:34.634124Z', 'document_count': 2}]})\n\nuser/tests/test_knowledge_base.py:101: AssertionError"}, "description": "测试查询知识库列表", "steps": [{"name": "创建测试数据", "status": "passed", "start": 1753005874634, "stop": 1753005874841}, {"name": "获取知识库列表", "status": "passed", "start": 1753005874841, "stop": 1753005875031}, {"name": "验证响应结果", "status": "failed", "statusDetails": {"message": "AssertionError: assert 4 == 2\n +  where 4 = len({'count': 2, 'next': None, 'previous': None, 'results': [{'kbId': 4, 'name': '知识库2', 'updated_time': '2025-07-20T10:04:34.708489Z', 'document_count': 0}, {'kbId': 3, 'name': '知识库1', 'updated_time': '2025-07-20T10:04:34.634124Z', 'document_count': 2}]})\n", "trace": "  File \"/Users/zongjunyi/PycharmProjects/ai-native-platform/api/backend_management/user/tests/test_knowledge_base.py\", line 101, in test_list_knowledge_base\n    assert len(response.data['data']) == 2\n"}, "start": 1753005875031, "stop": 1753005875031}], "start": 1753005874634, "stop": 1753005875031, "uuid": "803d9e5e-2e33-4300-8fcf-88c1b8482416", "historyId": "381a7b56e4b920f9c0e1522d6fd6790e", "testCaseId": "381a7b56e4b920f9c0e1522d6fd6790e", "fullName": "user.tests.test_knowledge_base#test_list_knowledge_base", "labels": [{"name": "story", "value": "查询知识库列表"}, {"name": "feature", "value": "知识库管理"}, {"name": "tag", "value": "django_db"}, {"name": "parentSuite", "value": "user.tests"}, {"name": "suite", "value": "test_knowledge_base"}, {"name": "host", "value": "zongjunyi.local"}, {"name": "thread", "value": "36296-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "user.tests.test_knowledge_base"}]}