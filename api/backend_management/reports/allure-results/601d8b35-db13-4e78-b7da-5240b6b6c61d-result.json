{"name": "test_collaborator_role_system", "status": "broken", "statusDetails": {"message": "AttributeError: 'TestNamespaceAPI' object has no attribute 'user3'. Did you mean: 'user1'?", "trace": "self = <knowledge.tests.test_namespace.TestNamespaceAPI object at 0x108a8fd10>\n\n    @allure.story(\"协作者权限系统\")\n    def test_collaborator_role_system(self):\n        \"\"\"测试新的协作者角色权限系统\"\"\"\n        with allure.step(\"创建知识库\"):\n            namespace = Namespace.objects.create(\n                name='权限测试知识库',\n                creator=self.user1\n            )\n    \n        with allure.step(\"添加管理权限协作者\"):\n            self.client.force_authenticate(user=self.user1)\n            data = {\n                'username': self.user2.username,\n                'role': 'admin'\n            }\n            response = self.client.post(f'/knowledge/namespaces/{namespace.id}/add_collaborator/', data)\n    \n        with allure.step(\"验证添加管理员成功\"):\n            assert response.status_code == status.HTTP_201_CREATED\n            assert response.data['user']['username'] == self.user2.username\n            assert response.data['role'] == 'admin'\n            assert response.data['can_edit'] == True\n            assert response.data['can_read'] == True\n    \n        with allure.step(\"添加只读权限协作者\"):\n            data = {\n>               'username': self.user3.username,\n                'role': 'readonly'\n            }\nE           AttributeError: 'TestNamespaceAPI' object has no attribute 'user3'. Did you mean: 'user1'?\n\nknowledge/tests/test_namespace.py:378: AttributeError"}, "description": "测试新的协作者角色权限系统", "steps": [{"name": "创建知识库", "status": "passed", "start": 1753609017530, "stop": 1753609017597}, {"name": "添加管理权限协作者", "status": "passed", "start": 1753609017597, "stop": 1753609018020}, {"name": "验证添加管理员成功", "status": "passed", "start": 1753609018020, "stop": 1753609018020}, {"name": "添加只读权限协作者", "status": "broken", "statusDetails": {"message": "AttributeError: 'TestNamespaceAPI' object has no attribute 'user3'. Did you mean: 'user1'?\n", "trace": "  File \"/Users/zongjunyi/PycharmProjects/ai-native-platform/api/backend_management/knowledge/tests/test_namespace.py\", line 378, in test_collaborator_role_system\n    'username': self.user3.username,\n                ^^^^^^^^^^\n"}, "start": 1753609018020, "stop": 1753609018020}], "attachments": [{"name": "log", "source": "b47dff09-6ffe-4b4e-b41e-e1124da270dc-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "d9e43d49-a09d-4cf6-acb1-14cc69031554-attachment.txt", "type": "text/plain"}], "start": 1753609017530, "stop": 1753609018023, "uuid": "fad46417-cf30-458d-af9a-2e3e8741c734", "historyId": "1a462f9f2e536fa892543f32ad9791a6", "testCaseId": "1a462f9f2e536fa892543f32ad9791a6", "fullName": "knowledge.tests.test_namespace.TestNamespaceAPI#test_collaborator_role_system", "labels": [{"name": "story", "value": "知识库API测试"}, {"name": "story", "value": "协作者权限系统"}, {"name": "feature", "value": "知识库管理"}, {"name": "tag", "value": "django_db"}, {"name": "parentSuite", "value": "knowledge.tests"}, {"name": "suite", "value": "test_namespace"}, {"name": "subSuite", "value": "TestNamespaceAPI"}, {"name": "host", "value": "zongjunyi.local"}, {"name": "thread", "value": "87669-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "knowledge.tests.test_namespace"}]}