# 多租户，多用户管理

1. APP路径:api/backend_management/user
2. APP下面的子模块名称: user

## 第一版需求
1. 系统概述
本系统是基于 Django 框架开发的多租户多用户管理平台，旨在为不同租户提供独立的用户管理、权限控制和业务隔离功能。系统采用 JWT 认证机制，支持用户名 + 密码登录方式，并根据租户角色分配不同的系统权限。

2. 术语定义
租户（Tenant）：系统的客户实体，拥有独立的业务空间和用户群体。
用户（User）：系统的使用者，归属于特定租户，通过角色分配权限。
角色（Role）：定义用户权限范围的分类，如 OWNER、ADMIN 等。

3. 功能需求
3.1. 租户管理
租户创建与删除
超级管理员可创建和删除租户账户
租户创建时需提供基础信息（名称、联系人、联系方式等）
租户信息管理
租户基本信息的查看和修改
租户状态（活跃 / 封禁 / 关闭）的管理

3.2. 用户管理
用户账户管理
支持 Django 内置的用户管理机制（认证、密码重置等）
管理员可添加、编辑、删除租户下的用户
用户角色分配
用户创建时需分配租户内角色
支持角色的动态变更


3.3. 权限分配规则
OWNER：拥有租户内所有权限
ADMIN：可管理用户、分配角色，但不能删除租户
EDITOR：可访问和编辑内容相关资源
NORMAL：仅能访问授权的基础功能
DATASET_OPERATOR：专门管理数据集资源

3.4 账户状态管理
class AccountStatus(enum.StrEnum):
    PENDING = "pending"           # 待审核
    UNINITIALIZED = "uninitialized" # 未初始化
    ACTIVE = "active"             # 活跃状态
    BANNED = "banned"             # 封禁状态
    CLOSED = "closed"             # 已关闭

3.5 认证与授权
认证机制
基于 JWT 的身份认证
支持用户名 + 密码登录
提供 Token 刷新机制
权限控制
基于角色的访问控制（RBAC）
接口级权限控制
租户数据隔离